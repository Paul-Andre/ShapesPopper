var specials=[function(t,e,a){var i=3.2;t.pS.explode(e*size,a*size,100,size,2e3,redInterpolate),t.grid.forEach(function(r,n,o){if(i*i>=(n-e)*(n-e)+(o-a)*(o-a)&&t.burst(n,o,!1),r>1&&r<particleColors.length)for(var h=0;20>h;h++){var s=Math.atan2(o-a,n-e)+.5*(Math.random()-.5)*Math.PI,l=100,c=2e3,f=t.size;t.pS.makeParticle(n*f+f*Math.random(),o*f+f*Math.random(),40*Math.cos(s),Math.sin(s)*l,.5*c+.5*c*Math.random(),50,particleColors[r],1.5*5*Math.random(),.9+.5*Math.random())}},e-i,a-i,e+i,a+i);var r={time:0,draw:function(r){r.drawImage(explosionFrames[Math.floor(this.time/20)],(e-Math.ceil(i))*size,(a-Math.ceil(i))*size,(2*Math.ceil(i)+1)*t.size,(2*Math.ceil(i)+1)*t.size)},update:function(t){return this.time+=t,this.time>320?!0:!1}};t.overlays.push(r)},function(t,e,a){t.grid.forEach(function(e,a,i){t.burst(a,i,!1);for(var r=2e3,n=0;20>n;n++)2*Math.random()*Math.PI,t.pS.makeParticle(a*t.size+t.size*Math.random(),i*t.size+t.size*Math.random(),5*Math.random(),-10*Math.random()-10,.5*r+.5*r*Math.random(),0,particleColors[e],5*5*Math.random()*(t.size/64),1.9+5*Math.random()*(t.size/64))},0,a,t.width,1);var i={time:0,draw:function(e){for(var i=0;i<t.width;i++)e.drawImage(beamFrames[Math.floor(this.time/25)],i*t.size,a*t.size,t.size,t.size)},update:function(t){return this.time+=t,this.time>300?!0:!1}};t.overlays.push(i)}];