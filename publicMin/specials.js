var specials=[function(t,e,a){var i=3.2;t.pS.explode(e*size,a*size,100,size,2e3,redInterpolate),t.grid.forEach(function(n,r,o,h){if(i*i>=(r-e)*(r-e)+(o-a)*(o-a)){h.set(r,o,0);for(var s=0;20>s;s++){var l=Math.atan2(o-a,r-e)+.5*(Math.random()-.5)*Math.PI,c=100,f=2e3,u=t.size;t.pS.makeParticle(r*u+u*Math.random(),o*u+u*Math.random(),40*Math.cos(l),Math.sin(l)*c,.5*f+.5*f*Math.random(),50,particleColors[n],1.5*5*Math.random(),.9+.5*Math.random())}}},e-i,a-i,e+i,a+i);var n={time:0,draw:function(n){for(var r=5;r>0;r--)n.beginPath(),n.arc((e+.5)*t.size,(a+.5)*t.size,i*size*Math.abs(Math.sin(this.time/400*Math.PI+r/10))*(r+7)/12,0,2*Math.PI,!0),n.fillStyle=redInterpolate(.5*Math.sin(this.time/40*Math.PI+r)+.5),n.fill()},update:function(t){return this.time+=t,this.time>400?!0:!1}};t.overlays.push(n)},function(t,e,a){t.grid.forEach(function(e,a,i,n){n.set(a,i,0);for(var r=2e3,o=0;20>o;o++)2*Math.random()*Math.PI,t.pS.makeParticle(a*t.size+t.size*Math.random(),i*t.size+t.size*Math.random(),5*Math.random(),-10*Math.random()-10,.5*r+.5*r*Math.random(),0,particleColors[e],5*5*Math.random()*(t.size/64),1.9+5*Math.random()*(t.size/64))},0,a,t.width,1);var i={time:0,draw:function(e){for(var i=5;i>0;i--){e.beginPath(),e.fillStyle=greenInterpolate(.5*Math.sin(this.time/60*Math.PI+i)+.5);var n=size*Math.abs(Math.sin(this.time/400*Math.PI+i/10))*(i+7)/12;e.fillRect(0,(a+.5)*t.size-.5*n,t.width*t.size,n)}var r=-(this.time%100),o=t.size/2*Math.sin(this.time/400*Math.PI+i/10),h=2*o;e.beginPath();var s=(a+.5)*t.size;e.moveTo(0,s);for(var i=r;i<=t.width*t.size;i+=2*h)e.bezierCurveTo(i-.5*h,s-o,i-.5*h,s+o,i,s+o),e.bezierCurveTo(i+.5*h,s+o,i+.5*h,s-o,i+h,s-o);e.strokeStyle=greenDarkInterpolate(.5*Math.sin(this.time)+.5),e.lineWidth=4,e.stroke()},update:function(t){return this.time+=t,this.time>300?!0:!1}};t.overlays.push(i)}];