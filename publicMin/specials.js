var specials=[function(t,e,a){var i=3.2;t.pS.explode(e*size,a*size,100,size,2e3,redInterpolate),t.grid.forEach(function(n,r,o){if(i*i>=(r-e)*(r-e)+(o-a)*(o-a)&&t.burst(r,o,!1),n>1&&n<particleColors.length)for(var h=0;20>h;h++){var s=Math.atan2(o-a,r-e)+.5*(Math.random()-.5)*Math.PI,l=100,c=2e3,f=t.size;t.pS.makeParticle(r*f+f*Math.random(),o*f+f*Math.random(),40*Math.cos(s),Math.sin(s)*l,.5*c+.5*c*Math.random(),50,particleColors[n],1.5*5*Math.random(),.9+.5*Math.random())}},e-i,a-i,e+i,a+i);var n={time:0,draw:function(n){n.drawImage(explosionFrames[Math.floor(this.time/20)],(e-Math.ceil(i))*size,(a-Math.ceil(i))*size,(2*Math.ceil(i)+1)*t.size,(2*Math.ceil(i)+1)*t.size)},update:function(t){return this.time+=t,this.time>320?!0:!1}};t.overlays.push(n)},function(t,e,a){t.grid.forEach(function(e,a,i){t.burst(a,i,!1);for(var n=2e3,r=0;20>r;r++)2*Math.random()*Math.PI,t.pS.makeParticle(a*t.size+t.size*Math.random(),i*t.size+t.size*Math.random(),5*Math.random(),-10*Math.random()-10,.5*n+.5*n*Math.random(),0,particleColors[e],5*5*Math.random()*(t.size/64),1.9+5*Math.random()*(t.size/64))},0,a,t.width,1);var i={time:0,draw:function(e){for(var i=0;i<t.width;i++)e.drawImage(beamFrames[Math.floor(this.time/25)],i*t.size,a*t.size,t.size,t.size)},update:function(t){return this.time+=t,this.time>300?!0:!1}};t.overlays.push(i)}];