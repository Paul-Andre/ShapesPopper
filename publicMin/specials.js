var specials=[function(t,e,a){var i=3.2;t.pS.explode(e*size,a*size,100,size,2e3,redInterpolate),t.grid.forEach(function(n,r,o,h){if(i*i>=(r-e)*(r-e)+(o-a)*(o-a)&&(h.set(r,o,0),n>1&&n<particleColors.length))for(var s=0;20>s;s++){var l=Math.atan2(o-a,r-e)+.5*(Math.random()-.5)*Math.PI,c=100,f=2e3,u=t.size;t.pS.makeParticle(r*u+u*Math.random(),o*u+u*Math.random(),40*Math.cos(l),Math.sin(l)*c,.5*f+.5*f*Math.random(),50,particleColors[n],1.5*5*Math.random(),.9+.5*Math.random())}},e-i,a-i,e+i,a+i);var n={time:0,draw:function(t){t.drawImage(explosionFrames[Math.floor(this.time/20)],(e-Math.ceil(i))*size,(a-Math.ceil(i))*size)},update:function(t){return this.time+=t,this.time>320?!0:!1}};t.overlays.push(n)},function(t,e,a){t.grid.forEach(function(e,a,i,n){n.set(a,i,0);for(var r=2e3,o=0;20>o;o++)2*Math.random()*Math.PI,t.pS.makeParticle(a*t.size+t.size*Math.random(),i*t.size+t.size*Math.random(),5*Math.random(),-10*Math.random()-10,.5*r+.5*r*Math.random(),0,particleColors[e],5*5*Math.random()*(t.size/64),1.9+5*Math.random()*(t.size/64))},0,a,t.width,1);var i=5,n={time:0,draw:function(e){for(var n=i;n>0;n--){e.beginPath(),e.fillStyle=greenInterpolate(.5*Math.sin(this.time/60*Math.PI+n)+.5);var r=size*Math.abs(Math.sin(this.time/400*Math.PI+n/10))*(n+7)/12;e.fillRect(0,(a+.5)*t.size-.5*r,t.width*t.size,r)}var o=-(this.time%100),h=t.size/2*Math.sin(this.time/400*Math.PI+n/10),s=2*h;e.beginPath();var l=(a+.5)*t.size;e.moveTo(0,l);for(var n=o;n<=t.width*t.size;n+=2*s)e.bezierCurveTo(n-.5*s,l-h,n-.5*s,l+h,n,l+h),e.bezierCurveTo(n+.5*s,l+h,n+.5*s,l-h,n+s,l-h);e.strokeStyle=greenDarkInterpolate(.5*Math.sin(this.time)+.5),e.lineWidth=4,e.stroke()},update:function(t){return this.time+=t,this.time>300?!0:!1}};t.overlays.push(n)}];