var binaryData=function(){function t(t){n=t}function h(t,h,i){var a=h?{signed:!!i,bits:h,imageData:!i&&8==h}:"number"==typeof t?{signed:!1,bits:8,imageData:!0}:e(t);if(this.length=t.length?t.length:t,n)if(a.imageData){var s=o.createImageData(Math.ceil(this.length/4),1);if(s)var f=s.data;else var l=!0,f=[]}else var l=!0,f=[];else var s=new ArrayBuffer(this.length*a.bits/8),f=new(r(a))(s);if(this.setAll=function(t){for(var h=0;h<this.length;h++)f[h]=t},t.length)for(var c=0;c<this.length;c++)f[c]=t[c];else l&&this.setAll(0);t=void 0,this.get=function(t){return f[t]},this.set=function(t,h){return f[t]=h},this.toArray=function(){for(var t=[],h=0;h<this.length;h++)t.push(f[h]);return t},this.forEach=function(t,h,i){h="number"==typeof h?Math.max(Math.floor(h),0):0;for(var e="number"!=typeof i?this.length:Math.min(Math.ceil(h+i),this.length);e>h;h++)t.call(this,f[h],h)},this.forEachSet=function(t,h,i){h="number"==typeof h?Math.max(Math.floor(h),0):0;for(var e="number"!=typeof i?this.length:Math.min(Math.ceil(h+i),this.length);e>h;h++)f[h]=t.call(this,f[h],h)},this.copy=function(t,h){t=Math.floor(t),h=Math.ceil(h);for(var i=[],e=Math.min(this.length,h+t),r=t;e>r;r++)i[r-t]=f[r];return i},this.paste=function(t,h){t=Math.floor(t);for(var i=Math.min(this.length,h.length+t),e=t;i>e;e++)f[e]=h[e-t]},this.testView=function(){alert(f),console.log(f)}}function i(t,h,i,s){if(t.length){this.height=t.length,this.width=t[0].length;var t=a(t,this.height,this.width);this.length=t.length}else this.height=h,this.width=t,this.length=t*h,h=i,i=s;var f=h?{signed:!!i,bits:h,imageData:!i&&8==h}:e(t);if(n)if(f.imageData){var l=o.createImageData(Math.ceil(this.length/4),1);if(l)var c=l.data;else{var u=!0;if(t.length)for(var g=0;g<this.length;g++)c[g]=t[g];else if(u)for(var g=0;g<this.length;g++)c[g]=0;var c=[]}}else var u=!0,c=[];else var l=new ArrayBuffer(this.length*f.bits/8),c=new(r(f))(l);if(this.setAll=function(t){for(var h=0;h<this.length;h++)c[h]=t},t.length)for(var g=0;g<this.length;g++)c[g]=t[g];else u&&this.setAll(0);t=void 0,this.get=function(t,h){return c[h*this.width+t]},this.set=function(t,h,i){return c[h*this.width+t]=i},this.toArray=function(){for(var t,h=[],i=0;i<this.height;i++){t=[];for(var e=0;e<this.width;e++)t.push(c[i*this.width+e]);h.push(t)}return h},this.forEach=function(t,h,i,e,r){for(var a="number"==typeof h?Math.max(Math.floor(h),0):0,n="number"==typeof i?Math.max(Math.floor(i),0):0,o="number"!=typeof e?this.width:Math.min(Math.ceil(e+h),this.width),s=a;o>s;s++)for(var f="number"!=typeof r?this.height:Math.min(Math.ceil(r+i),this.height),l=n;f>l;l++)t.call(this,c[l*this.width+s],s,l)},this.forEachSet=function(t,h,i,e,r){for(var a="number"==typeof h?Math.max(Math.floor(h),0):0,n="number"==typeof i?Math.max(Math.floor(i),0):0,o="number"!=typeof e?this.width:Math.min(Math.ceil(h+e),this.width),s=a;o>s;s++)for(var f="number"!=typeof r?this.height:Math.min(Math.ceil(i+r),this.height),l=n;f>l;l++)c[l*this.width+s]=t.call(this,c[l*this.width+s],s,l)},this.setRect=function(t,h,i,e,r){for(var a="number"==typeof t?Math.max(Math.floor(t),0):0,n="number"==typeof h?Math.max(Math.floor(h),0):0,o="number"!=typeof i?this.width:Math.min(Math.ceil(t+i),this.width),s=a;o>s;s++)for(var f="number"!=typeof e?this.height:Math.min(Math.ceil(h+e),this.height),l=n;f>l;l++)c[l*this.width+s]=r},this.copy=function(t,h,i,e){t=Math.floor(t),i=Math.ceil(i),h=Math.floor(h),e=Math.ceil(e);for(var r=[],a=Math.min(this.width,i+t),n=Math.min(this.height,e+h),o=h;n>o;o++){for(var s=[],f=t;a>f;f++)s.push(c[o*this.width+f]);r.push(s)}return r},this.paste=function(t,h,i){t=Math.floor(t),h=Math.floor(h);for(var e=Math.min(this.width,i[0].length+t),r=Math.min(this.height,i.length+h),a=t;e>a;a++)for(var n=h;r>n;n++)c[n*this.width+a]=i[n-h][a-t]},this.testView=function(){alert(c),console.log(c)}}function e(t){for(var h,i,e=!1,r=0,a=4294967295,n=t.length-1;n>=0;n--){if(i=t[n],"number"!=typeof i)return console.log("error, we only accept numbers. "+i+" is not a number"),i;r=Math.max(r,i),a=Math.min(a,i)}0>a&&(e=!0),h=e?Math.max(r>2147483647?console.log("binData: error, no more than 32 bits"):r>32767?32:r>127?16:8,-12147483648>r?console.log("binData: error, no more than 32 bits"):-32768>r?32:-128>r?16:8):r>4294967295?console.log("binData: error, no more than 32 bits"):r>65535?32:r>255?16:8;var o={signed:e,bits:h,max:r,min:a,imageData:!e&&8==h};return o}function r(t){return t.signed?8==t.bits?Int8Array:16==t.bits?Int16Array:32==t.bits?Int32Array:console.log("binData: error: only 8, 16, and 32 bit accepted"):8==t.bits?Uint8Array:16==t.bits?Uint16Array:32==t.bits?Uint32Array:console.log("binData: error: only 8, 16, and 32 bit accepted")}function a(t,h,i){for(var e=[],r=0;h>r;r++)for(var a=0;i>a;a++)e.push(Number(t[r][a]));return e}var n="undefined"==typeof ArrayBuffer?!0:!1,o=document.createElement("canvas").getContext("2d");return{checkArray:e,Array:h,Grid:i,setCompatMode:t}}();