function resizeCanvas(){var t=window.innerWidth,i=window.innerHeight;canvas.width=Math.floor(t*ratio),canvas.height=Math.floor(i*ratio),canvas.style.width=canvas.width/ratio+"px",canvas.style.height=canvas.height/ratio+"px"}function setRatio(t){ratio=t,resizeCanvas(),tiles=createTiles(64*ratio)}function createTiles(t){for(var i=[],e=0;e<tileColors.length;e++){var a=document.createElement("canvas"),r=a.getContext("2d");a.width=t,a.height=t,r.fillStyle=tileColors[e],r.fillRect(0,0,t,t),i.push(a)}return i}function draw(){game.draw(),requestAnimationFrame(draw)}function makeNewPopperGame(t,i,e){var a={grid:new binaryData.Grid(t,i,8,!1),size:e};return a.grid.forEachSet(function(){return Math.floor(4*Math.random())}),a.draw=function(){var t=this.size;this.grid.forEach(function(i,e,a){ctx.drawImage(tiles[i],e*t*ratio,a*t*ratio)})},a}var canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d"),ratio=1,tiles,tileColors=["red","green","blue","orange"];setRatio(.0625);var game=makeNewPopperGame(Math.round(window.innerWidth/64),Math.round(window.innerHeight/64),64);draw();