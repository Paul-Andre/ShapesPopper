function resizeCanvas(){var t=window.innerWidth,e=window.innerHeight;canvas.width=Math.floor(t*ratio),canvas.height=Math.floor(e*ratio),canvas.style.width=canvas.width/ratio+"px",canvas.style.height=canvas.height/ratio+"px"}function setRatio(t){ratio=t,resizeCanvas(),tiles=createTiles(size*ratio)}function goFullScreen(){canvas.webkitRequestFullScreen&&canvas.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),canvas.webkitRequestFullscreen&&canvas.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),canvas.mozRequestFullScreen&&canvas.mozRequestFullScreen(),canvas.requestFullscreen&&canvas.requestFullscreen(),setRatio(.5)}function draw(){ctx.clearRect(0,0,canvas.width,canvas.height),game.update(Date.now()-pastTime),pastTime=Date.now(),game.draw(),requestAnimationFrame(draw)}var canvas=document.getElementById("gameCanvas"),ctx=canvas.getContext("2d"),ratio=1,tiles,size=20,alignImage=!1,pastTime=0,game;setRatio(.5),game=makeNewPopperGame(Math.floor(window.innerWidth/size),Math.floor(window.innerHeight/size),size),pastTime=Date.now(),draw();